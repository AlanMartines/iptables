<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html>

	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>

		<link rel="stylesheet" href="style.css" type="text/css"/>
		<link rel="stylesheet" href="jquery-ui.css" type="text/css"/>

		<script type="text/javascript" src="jquery.min.js"></script> 
		<script type="text/javascript" src="jquery-ui.min.js"></script> 
		<script type="text/javascript" src="template.js"></script>
		<script type="text/javascript" src="tools.js"></script>
		<script type="text/javascript" src="client.js"></script>

		<title>iptables</title>
	</head>

	<body>

		<div class="error"></div>
		<div class="info"></div>

		<div class="content">
			<ul class="tabs mainmenu">
				<li>
					<a class="item" onclick="rules.showList('input', 'filter');">INPUT</a>
					<ul class="dropdown" style="display: none;">
						<li><a class="item" onclick="rules.showList('input', 'filter');">filter</a></li>
						<li><a class="item" onclick="rules.showList('input', 'mangle');">mangle</a></li>
					</ul>
				</li>
				<li>
					<a class="item" onclick="rules.showList('output', 'filter');">OUTPUT</a>
					<ul class="dropdown" style="display: none;">
						<li><a class="item" onclick="rules.showList('output', 'filter');">filter</a></li>
						<li><a class="item" onclick="rules.showList('output', 'nat');">nat</a></li>
						<li><a class="item" onclick="rules.showList('output', 'mangle');">mangle</a></li>
					</ul>
				</li>
				<li>
					<a class="item" onclick="rules.showList('forward', 'filter');">FORWARD</a>
					<ul class="dropdown" style="display: none;">
						<li><a class="item" onclick="rules.showList('forward', 'filter');">filter</a></li>
						<li><a class="item" onclick="rules.showList('forward', 'mangle');">mangle</a></li>
					</ul>
				</li>
				<li>
					<a class="item" onclick="rules.showList('prerouting', 'nat');">PREROUTING</a>
					<ul class="dropdown" style="display: none;">
						<li><a class="item" onclick="rules.showList('prerouting', 'nat');">filter</a></li>
						<li><a class="item" onclick="rules.showList('prerouting', 'mangle');">mangle</a></li>
					</ul>
				</li>
				<li>
					<a class="item" onclick="rules.showList('postrouting', 'nat');">POSTROUTING</a>
					<ul class="dropdown" style="display: none;">
						<li><a class="item" onclick="rules.showList('postrouting', 'nat');">filter</a></li>
						<li><a class="item" onclick="rules.showList('postrouting', 'mangle');">mangle</a></li>
					</ul>
				</li>
				<li>
					<a class="item" onclick="rules.addChain();">Custom â†“</a>
					<ul class="dropdown" style="display: none;" id="customchains">
						
					</ul>
				</li>
			</ul>

			<table id="main" class="main">

			</table>

			<div class="tools">
				<a class="button" href="/logout" id="logout" style="display: none;">Logout <img class="icon" src="/img/logout.png"/></a>
				<a class="button" onclick="tools.load();" title="Load rules from file">Load <img class="icon" src="/img/load.png"/></a>
				<a class="button" onclick="tools.save();" title="Save rules into file">Save <img class="icon" src="/img/save.png"/></a>
				<a class="button" onclick="tools.settingsDlg();" title="Show settings dialog">Settings <img class="icon" src="/img/settings.png"/></a>
				<a class="button" onclick="rules.resetCounters();" title="Reset counters for current chain">Reset <img class="icon" src="/img/reset.png"/></a>
			</div>

			<div class="settings">
				<div id="user-select-category">
					<div class="item" id="page1" onclick="tools.selectPage(1);"><img class="item-icon" src="/img/settings.png"/> Global</div>
					<div class="item" id="page2" onclick="tools.selectPage(2)"><img class="item-icon" src="/img/lan.png"/> Networks map</div>
					<div class="item" id="page3" onclick="tools.selectPage(3)"><img class="item-icon" src="/img/portmap.png"/> Ports map</div>
				</div>
				<div id="settings-page1" style="display: block;">
					<table width="100%">
						<tr><td colspan="2" class="splitter">Paths</td></tr>
						<tr>
							<td>Save rule path</td><td><input class="param" type="text" id="savePath"/></td>
						</tr>
						<tr><td colspan="2" class="splitter">Security</td></tr>
						<tr>
							<td>Login</td><td><input class="param" type="text" id="user"/></td>
						</tr>
						<tr>
							<td>Password</td><td><input class="param" type="password" id="pass" title="Leave this param empty to cancel the authorization"/></td>
						</tr>
					</table>
				</div>
				<div id="settings-page2" style="display: none;">
					<table width="100%" id="lans" class="main">
						<tr><td class="cmd">Network</td><td class="rule">Alias</td><td class="mon"></td></tr>
					</table>
					<div class="tools"><a class="button" onclick="tools.addLan();">Add lan</a></div>
				</div>
				<div id="settings-page3" style="display: none;">
					<table width="100%" id="ports" class="main">
						<tr><td class="cmd">Port</td><td class="rule">Alias</td><td class="mon"></td></tr>
					</table>
					<div class="tools"><a class="button" onclick="tools.addPort();">Add port</a></div>
				</div>
			</div>
			
			<div class="addchain">
				<form>
					<table class="main">
						<tr><td class="cmd">Name:</td><td><input type="text" id="chainname"/></td></tr>
						<tr><td class="cmd">Table:</td><td><select id="chaintable"><option value="filter">filter</option><option value="nat">nat</option><option value="mangle">mangle</option></select></td></tr>
					</table>
				</form>
			</div>
			<div class="dialog" id="makeRule">
				<form>
					<table class="">
						<tr><td class="cmd">Proto:</td><td><select id="new_proto" title="Network protocol"><option value="none">none</option><option value="tcp">TCP</option><option value="udp">UDP</option><option value="ICMP">icmp</option><option value="gre">GRE</option></select></td></tr>
						<tr><td class="cmd">Input:</td><td><input type="text" id="new_in" title="Input interface"/></td></tr>
						<tr><td class="cmd">Output:</td><td><input type="text" id="new_out" title="Output interface"/></td></tr>
						<tr><td class="cmd">Dest:</td><td><input type="text" id="new_dest" title="Destination address"/> from: <input type="text" id="new_dst_port_from" title="Destination port" style="width: 40px;"/> to: <input type="text" id="new_dst_port_to" title="Destination port" style="width: 40px;"/></td></tr>
						<tr><td class="cmd">Source:</td><td><input type="text" id="new_src" title="Source address"/> from: <input type="text" id="new_src_port_from" title="Source port" style="width: 40px;"/> to: <input type="text" id="new_src_port_to" title="Source port" style="width: 40px;"/></td></tr>
						<tr><td class="cmd">State:</td><td><select id="new_state" title="Connection state"><option value="none">none</option><option value="NEW">NEW</option><option value="ESTABLISHED">ESTABLISHED</option><option value="RELATED">RELATED</option><option value="INVALID">INVALID</option></select></td></tr>
						<tr><td class="cmd">Limit:</td><td><input type="text" id="new_limit" title="Package limit"/></td></tr>
						<tr><td class="cmd">Action:</td><td><select id="new_action" onchange="tools.setAction();" title="Rule action"><option value="DROP">DROP</option><option value="ACCEPT">ACCEPT</option><option value="DNAT">DNAT</option><option value="LOG">LOG</option></select> <span id="action_sub"></span></td></tr>
					</table>
				</form>
			</div>
		</div>

	</body>

</html>